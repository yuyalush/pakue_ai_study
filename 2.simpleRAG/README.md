# シンプルRAGサンプル集

このディレクトリは、Azure OpenAI Serviceを使ったシンプルなRAG（Retrieval-Augmented Generation）アプリのサンプルコードをまとめています。

---

## simplerag1.py

- **概要**  
  Pythonリストで用意した簡単なドキュメントコーパスから、キーワード一致で関連情報を抽出し、Azure OpenAI（LLM）にプロンプトとして渡して回答を生成します。
- **特徴**  
  - 検索は単純なキーワード一致
  - コードが非常にシンプルでRAGの流れを体験しやすい
  - 本格的な検索や大規模データには非対応

---

## simplerag2.py

- **概要**  
  JSONファイル（simplerag2.json）に保存された蔵書データを対象に、ユーザーの質問からLLMでキーワードを抽出し、あいまい検索（キーワード一致＋類似度検索）で関連する本を抽出します。その結果をプロンプトにしてAzure OpenAIでレコメンド回答を生成します。
- **特徴**  
  - LLMによるキーワード抽出
  - difflib（SequenceMatcher）によるタイトル・紹介文のあいまい検索
  - 検索結果をもとにLLMが自然なレコメンドを生成

---

## simplerag2.json

- **概要**  
  架空の本のタイトルと短い紹介文が100件分格納されたデータファイルです。  
  例：
  ```json
  {"title": "星降る夜のカフェ", "summary": "静かな夜に出会いが生まれるカフェの物語。"}
  ```
  - 各レコードは `title`（本のタイトル）と `summary`（紹介文）を持ちます。
  - RAGの検索対象データとして利用します。

---

## fuzzy_search_sample.py

- **概要**  
  simplerag2.jsonのデータを使い、ユーザーのクエリに対してタイトル・紹介文の両方を対象にdifflibのSequenceMatcherであいまい検索を行うサンプルです。
- **特徴**  
  - 類似度しきい値（例: 0.5）以上のレコードを抽出
  - あいまい一致の仕組みを単体で確認したい場合に便利

---

## 補足

- 本格的なRAGシステムを構築する場合は、Azure AI Searchやベクトルデータベースの利用を検討してください。
- ここでは「シンプルな仕組みでRAGの流れを体験する」ことを目的としています。